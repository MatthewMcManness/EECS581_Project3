## Imports
At the top of your test file add the following:
```python
import sys
from .utils import run_module_method
from contextlib import redirect_stdout
```

## Output Files
When creating a new test `test_new.py`, the file hierarchy should look as follows:
```
Tests\
    Output\
    test_new.py
```

To redirect output from the terminal to a file `test_new.txt`:
```python
with open("./Tests/Output/test_new.txt", "w") as file:
    with redirect_stdout(file):
        ... # your test code here

        print("Log something", file=file)
```

For clarity, name your output file the same as your python test file. If you have multiple output files, keep track of them in a list. For example:

```python
TXT_PATH = "./Tests/Output/test_new.txt"
DB_PATH = "./Tests/Output/test_new.db"
PATHS = [TXT_PATH, DB_PATH]
```

## Structuring a Test File
For sub-tests, make a function for each sub-test. Then define a dictionary of methods, where the key is the name of the sub-test and the value is the function. 

For example:
```python 
# test_new.py
def run():
    with open("./Tests/Output/test_new.txt", "w") as file:
        with redirect_stdout(file):
            ... # your test code here

            print("Log something", file=file)

def skip():
    ... # other test code here

methods = {
    "run": run,
    "skip": skip
}
```

Finally, include the following at the bottom of your test file, where `test_name` is the name of the python test file:

```python
if __name__ == "__main__":
    run_module_method(test_name, sys.argv, methods, PATHS)
```

## Running a Test
To run a sub-test `sub_test()` in `test_new.py`, in the terminal run:

```
python -m Tests.test_new sub_test
```

For example, using the previous example `test_new.py`, to run `skip()`:

```
python -m Tests.test_new skip
```

Note that if a sub-test isn't given, the default will be "run".

## Clean Option
Each test gets a `clean` option, provided by `Tests/utils.py`, which removes the output files generated by a test.

To run this option:
```
python -m Tests.test_new clean
```

## Help Option
It's recommended to define a `help()` method that lists valid sub-tests.

For example:
```python
def help():
    print("\npython -m Tests.test_new <option>")

    print("Valid options are:")
    print("   run:     description of run sub-test")
    print("   help:    prints syntax and valid options")
```